<!DOCTYPE html>
<!-- saved from url=(0024)http://imysql.cn/node/96 -->
<html lang="zh-hans" dir="ltr" class="js"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link rel="shortcut icon" href="http://dp.imysql.com:8080/themes/simpleclean/favicon.ico">
<link rel="shortlink" href="http://imysql.cn/node/96">
<link rel="canonical" href="http://imysql.cn/node/96">
<meta name="Generator" content="Drupal 7 (http://drupal.org)">
<title>MySQL Cluster(MySQL 集群) 初试 | iMySQL | 老叶茶馆</title>
<link rel="stylesheet" href="./MySQL Cluster(MySQL 集群) 初试 _ iMySQL _ 老叶茶馆_files/css_aV833lgFM2rgLI5tYX1pFDgD4guP8A4RMGGAa6I7HVg.css">

<!--[if lt IE 7]>
<link rel="stylesheet" href="http://dp.imysql.com:8080/themes/simpleclean/ie6.css?p7aw5e">
<![endif]-->
<script src="./MySQL Cluster(MySQL 集群) 初试 _ iMySQL _ 老叶茶馆_files/js_SFCOY_zCbenYvJitFRB6Z2ddIGoX2ULsLVpq3n81oq0.js.download"></script>
<!--[if lt IE 9]>
<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<script src="//css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
<![endif]-->
</head>
<body class="html not-front not-logged-in one-sidebar sidebar-first page-node page-node- page-node-96 node-type-page">
<div id="skip-link">
  <a href="http://imysql.cn/node/96#content" class="element-invisible element-focusable">Skip to main content</a>
</div>
<div id="wrap">
  <header id="header" class="clearfix" role="banner">
        
    <div id="logo" class="clearfix">
                      <h1 id="logo-text"><a href="http://imysql.cn/" title="主页">iMySQL | 老叶茶馆</a></h1>
                        </div>

      </header>

  <div id="content-wrap" class="clearfix"> 
    
    <div id="content" role="main">
                  <h1 class="node-title">MySQL Cluster(MySQL 集群) 初试</h1>
                        <div class="tabs"></div>
                                          
        <div class="region region-content">
    <div id="block-system-main" class="block block-system">

      
  <div class="content">
    <article id="node-96" class="node node-page node-promoted">

      <header>
                  
              <span class="submitted">
        By yejr on 28 八月 2006        </span>
          </header>
  
  <div class="content clearfix">
    <div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even"><script src="./MySQL Cluster(MySQL 集群) 初试 _ iMySQL _ 老叶茶馆_files/cr.js.download" language="javascript">
<!--//--><![CDATA[// ><!--


//--><!]]>
</script><p><span class="style1">作/译者：叶金荣（imysql#imysql.com&gt;），来源：<a href="http://imysql.com/">http://imysql.com</a>，欢迎转载。</span></p><p>MySQL Cluster 是MySQL适合于分布式计算环境的高实用、高冗余版本。它采用了NDB Cluster 存储引擎，允许在1个 Cluster 中运行多个MySQL服务器。在MyQL 5.0及以上的二进制版本中、以及与最新的Linux版本兼容的RPM中提供了该存储引擎。（注意，要想获得MySQL Cluster 的功能，必须安装  mysql-server 和 mysql-max RPM）。<br>
目前能够运行MySQL Cluster 的操作系统有Linux、Mac OS X和Solaris（一些用户通报成功地在FreeBSD上运行了MySQL Cluster ，但MySQL AB公司尚未正式支持该特性）。<br>
一、MySQL Cluster概述<br>
MySQL Cluster 是一种技术，该技术允许在无共享的系统中部署“内存中”数据库的 Cluster 。通过无共享体系结构，系统能够使用廉价的硬件，而且对软硬件无特殊要求。此外，由于每个组件有自己的内存和磁盘，不存在单点故障。<br>
MySQL Cluster 由一组计算机构成，每台计算机上均运行着多种进程，包括MySQL服务器，NDB Cluster 的数据节点，管理服务器，以及（可能）专门的数据访问程序。关于 Cluster 中这些组件的关系，请参见下图：<br><img src="./MySQL Cluster(MySQL 集群) 初试 _ iMySQL _ 老叶茶馆_files/cluster-components-1.png" border="0"><br>
所有的这些节点构成一个完成的MySQL集群体系。数据保存在“NDB存储服务器”的存储引擎中，表（结构）则保存在“MySQL服务器”中。应用程序通过“MySQL服务器”访问这些数据表，集群管理服务器通过管理工具(ndb_mgmd)来管理“NDB存储服务器”。<br>
通过将MySQL Cluster 引入开放源码世界，MySQL为所有需要它的人员提供了具有高可用性、高性能和可缩放性的 Cluster 数据管理。<br>
二、MySQL Cluster 基本概念<br>
“NDB” 是一种“内存中”的存储引擎，它具有可用性高和数据一致性好的特点。<br>
MySQL Cluster 能够使用多种故障切换和负载平衡选项配置NDB存储引擎，但在 Cluster 级别上的存储引擎上做这个最简单。MySQL Cluster的NDB存储引擎包含完整的数据集，仅取决于 Cluster本身内的其他数据。<br>
目前，MySQL Cluster的 Cluster部分可独立于MySQL服务器进行配置。在MySQL Cluster中， Cluster的每个部分被视为1个节点。</p>
<ul><li>管理(MGM)节点：这类节点的作用是管理MySQL Cluster内的其他节点，如提供配置数据、启动并停止节点、运行备份等。由于这类节点负责管理其他节点的配置，应在启动其他节点之前首先启动这类节点。MGM节点是用命令“ndb_mgmd”启动的。</li>
<li>数据节点：这类节点用于保存 Cluster的数据。数据节点的数目与副本的数目相关，是片段的倍数。例如，对于两个副本，每个副本有两个片段，那么就有4个数据节点。不过没有必要设置多个副本。数据节点是用命令“ndbd”启动的。</li>
<li>SQL节点：这是用来访问 Cluster数据的节点。对于MySQL Cluster，客户端节点是使用NDB Cluster存储引擎的传统MySQL服务器。通常，SQL节点是使用命令“mysqld –ndbcluster”启动的，或将“ndbcluster”添加到“my.cnf”后使用“mysqld”启动。</li>
<p>	注释：在很多情况下，术语“节点”用于指计算机，但在讨论MySQL Cluster时，它表示的是进程。在单台计算机上可以有任意数目的节点，为此，我们采用术语“ Cluster主机”。
</p></ul><p>管理服务器(MGM节点)负责管理 Cluster配置文件和 Cluster日志。 Cluster中的每个节点从管理服务器检索配置数据，并请求确定管理服务器所在位置的方式。当数据节点内出现新的事件时，节点将关于这类事件的信息传输到管理服务器，然后，将这类信息写入 Cluster日志。<br>
此外，可以有任意数目的 Cluster客户端进程或应用程序。它们分为两种类型：</p>
<ul><li>标准MySQL客户端：对于MySQL Cluster，它们与标准的（非 Cluster类）MySQL没有区别。换句话讲，能够从用PHP、Perl、C、C++、Java、Python、Ruby等编写的现有MySQL应用程序访问MySQL Cluster。</li>
<li>管理客户端：这类客户端与管理服务器相连，并提供了启动和停止节点、启动和停止消息跟踪（仅调试版本）、显示节点版本和状态、启动和停止备份等的命令。</li>
</ul><p>三、开始准备<br>
1、准备服务器<br>
现在，我们计划建立有5个节点的MySQL CLuster体系，因此需要用到5台机器，分别做如下用途：</p>
<pre>		节点(用途)		IP地址(主机名)
管理节点(MGM)		192.168.0.1(db1)
SQL节点1(SQL1)		192.168.0.2(db2)
SQL节点2(SQL2)		192.168.0.3(db3)
数据节点1(NDBD1)	192.168.0.4(db4)
数据节点2(NDBD2)	192.168.0.5(db5)
</pre><p>2、注意事项及其他<br>
每个节点的操作系统都是Linux，下面的描述中将使用主机名，不再使用IP地址来表示。由于MySQL Cluster采用TCP/IP方式连接，并且节点之间的数据传输没有加密，因此这个体系最好只在单独的子网中运行，并且考虑到传输的速率，强烈建议不要跨越公网使用这个体系。所需的MySQL软件请事先在 http://dev.mysql.com/downloads 下载。<br>
实际上整个体系可以在一个单独的实体计算机上运行成功，当然了，必须设定不同的目录以及端口等，只能作为测试时使用。<br>
四、开始安装<br>
1、假定条件<br>
在每个节点计算机上都采用 nobody 用户来运行Cluster，因此执行如下命令添加相关用户（如果已经存在则略过，且用root用户执行）：</p>
<pre>	root# /usr/sbin/groupadd nobody
root# /usr/sbin/useradd nobody -g nobody
</pre><p>假设已经下载了mysql可直接使用的二进制安装包，且放在 /tmp 下了。<br>
2、SQL节点和存储节点(NDB节点)安装(即4个机器重复执行以下步骤)</p>
<pre>	root# cd /tmp/
root# tar zxf mysql-max-5.0.24-linux-i686.tar.gz
root# mv mysql-max-5.0.24-linux-i686 /usr/local/mysql/
root# cd /usr/local/mysql/
root# ./configure --prefix=/usr/local/mysql
root# ./scripts/mysql_install_db
root# chown -R nobody:nobody /usr/local/mysql/
</pre><p>3、配置SQL节点</p>
<pre>	root# vi /usr/local/mysql/my.cnf
</pre><p>然后输入如下内容：</p>
<pre>[mysqld]
basedir         = /usr/local/mysql/
datadir         = /usr/local/mysql/data
user            = nobody
port            = 3306
socket          = /tmp/mysql.sock
ndbcluster
ndb-connectstring=db1
[MYSQL_CLUSTER]
ndb-connectstring=db1
</pre><p>4、配置存储节点(NDB节点)</p>
<pre>	root# vi /usr/local/mysql/my.cnf
</pre><p>然后输入如下内容：</p>
<pre>[mysqld]
ndbcluster
ndb-connectstring=db1
[MYSQL_CLUSTER]
ndb-connectstring=db1
</pre><p>5、安装管理节点</p>
<pre>	root# cd /tmp/
root# tar zxf mysql-max-5.0.24-linux-i686.tar.gz
root# mkdir /usr/local/mysql/
root# mkdir /usr/local/mysql/data/
root# cd mysql-max-5.0.24-linux-i686/bin/
root# cp ndb_mgm* /usr/local/mysql/
root# chown -R nobody:nobody /usr/local/mysql
</pre><p>6、配置管理节点</p>
<pre>		root# vi /usr/local/mysql/config.ini
</pre><p>然后输入如下内容：</p>
<pre>[NDBD DEFAULT]
NoOfReplicas=1
[TCP DEFAULT]
portnumber=3306
#设置管理节点服务器
[NDB_MGMD]
hostname=db1
#MGM上保存日志的目录
datadir=/usr/local/mysql/data/
#设置存储节点服务器(NDB节点)
[NDBD]
hostname=db4
datadir=/usr/local/mysql/data/
#第二个NDB节点
[NDBD]
hostname=db5
datadir=/usr/local/mysql/data/
#设置SQL节点服务器
[MYSQLD]
hostname=db2
#第二个SQL节点
[MYSQLD]
hostname=db3
</pre><p>注释： Cluster管理节点的默认端口是1186，数据节点的默认端口2202。从MySQL 5.0.3开始，该限制已被放宽， Cluster能够根据空闲的端口自动地为数据节点分配端口。如果你的版本低于5.0.22，请注意这个细节。<br>
五、启动MySQL Cluster<br>
较为合理的启动顺序是，首先启动管理节点服务器，然后启动存储节点服务器，最后才启动SQL节点服务器：</p>
<ul><li>在管理节点服务器上，执行以下命令启动MGM节点进程：<br><pre>		root# /usr/local/mysql/ndb_mgmd -f /usr/local/mysql/config.ini
	</pre><p>	必须用参数“-f”或“--config-file”告诉 ndb_mgm 配置文件所在位置，默认是在ndb_mgmd相同目录下。</p></li>
<li>在每台存储节点服务器上，如果是第一次启动ndbd进程的话，必须先执行以下命令：<br><pre>		root# /usr/local/mysql/bin/ndbd --initial
	</pre><p>	注意，仅应在首次启动ndbd时，或在备份/恢复数据或配置文件发生变化后重启ndbd时使用“--initial”参数。因为该参数会使节点删除由早期ndbd实例创建的、用于恢复的任何文件，包括用于恢复的日志文件。<br>
	如果不是第一次启动，直接运行如下命令即可：</p>
<pre>		root# /usr/local/mysql/bin/ndbd
	</pre></li>
<li>最后，运行以下命令启动SQL节点服务器：<br><pre>		root# /usr/local/mysql/bin/mysqld_safe --defaults-file=/usr/local/mysql/my.cnf &amp;
	</pre><p>	如果一切顺利，也就是启动过程中没有任何错误信息出现，那么就在管理节点服务器上运行如下命令：</p>
<pre>		root# /usr/local/mysql/ndb_mgm
	-- NDB Cluster -- Management Client --
	ndb_mgm&gt; SHOW
	Connected to Management Server at: localhost:1186
	Cluster Configuration
	---------------------
	[ndbd(NDB)]     2 node(s)
	id=2    @192.168.0.4  (Version: 5.0.22, Nodegroup: 0, Master)
	id=3    @192.168.0.5  (Version: 5.0.22, Nodegroup: 0)
	[ndb_mgmd(MGM)] 1 node(s)
	id=1    @192.168.0.1  (Version: 5.0.22)
	[mysqld(SQL)]   1 node(s)
	id=2   (Version: 5.0.22)
	id=3   (Version: 5.0.22)
	</pre></li>
</ul><p>具体的输出内容可能会略有不同，这取决于你所使用的MySQL版本。<br>
注意：如果你正在使用较早的MySQL版本，你或许会看到引用为‘[mysqld(API)]’的SQL节点。这是一种早期的用法，现已放弃。<br>
现在，应能在MySQL Cluster中处理数据库，表和数据。<br>
六、创建数据库表<br>
与没有使用 Cluster的MySQL相比，在MySQL Cluster内操作数据的方式没有太大的区别。执行这类操作时应记住两点：</p>
<ul><li>表必须用ENGINE=NDB或ENGINE=NDBCLUSTER选项创建，或用ALTER TABLE选项更改，以使用NDB Cluster存储引擎在 Cluster内复制它们。如果使用mysqldump的输出从已有数据库导入表，可在文本编辑器中打开SQL脚本，并将该选项添加到任何表创建语句，或用这类选项之一替换任何已有的ENGINE（或TYPE）选项。</li>
<li>另外还请记住，每个NDB表必须有一个主键。如果在创建表时用户未定义主键，NDB Cluster存储引擎将自动生成隐含的主键。（注释：该隐含 键也将占用空间，就像任何其他的表索引一样。由于没有足够的内存来容纳这些自动创建的键，出现问题并不罕见）。</li>
</ul><p>下面是一个例子：<br>
在db2上，创建数据表，插入数据：</p>
<pre>[db2~]root# mysql -uroot test
[db2~]mysql&gt; create table city(
[db2~]mysql&gt; id mediumint unsigned not null auto_increment primary key,
[db2~]mysql&gt; name varchar(20) not null default ''
[db2~]mysql&gt; ) engine = ndbcluster default charset utf8;
[db2~]mysql&gt; insert into city values(1, 'city1');
[db2~]mysql&gt; insert into city values(2, 'city2');
</pre><p>在db3上，查询数据：</p>
<pre>[db3~]root# mysql -uroot test
[db2~]mysql&gt; select * from city;
+-----------+
|id | name  |
+-----------+
|1  | city1 |
+-----------+
|2  | city2 |
+-----------+
</pre><p>七、安全关闭<br>
要想关闭 Cluster，可在MGM节点所在的机器上，在Shell中简单地输入下述命令：</p>
<pre>	[db1~]root# /usr/local/mysql/ndb_mgm -e shutdown
</pre><p>运行以下命令关闭SQL节点的mysqld服务：</p>
<pre>	[db2~]root# /usr/local/mysql/bin/mysqladmin -uroot shutdown
</pre><p>八、其他<br>
关于MySQL Cluster更多详细的资料以及备份等请参见MySQL手册的“MySQL Cluster(MySQL 集群)”章节。<br>
参考资料：《MySQL 5.1 中文手册》<br><meta name="keywords" content="mysql cluster,mysql 集群,mysql集群,mysql 集群 配置,mysql 集群 设置"><br><meta name="description" content="mysql cluster,mysql 集群,mysql集群,mysql 集群 配置,mysql 集群 设置"></p>
</div></div></div><div class="field field-name-taxonomy-vocabulary-4 field-type-taxonomy-term-reference field-label-above"><div class="field-label">技术相关:&nbsp;</div><div class="field-items"><div class="field-item even"><a href="http://imysql.cn/taxonomy/term/5">MySQL基础知识</a></div><div class="field-item odd"><a href="http://imysql.cn/taxonomy/term/22">Cluster/集群</a></div></div></div>  </div>

  <div class="clearfix">
          <div class="links"><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>
        
                              
          <section id="comments" class="comment-wrapper">
          <h2 class="title">评论</h2>
      
  <a id="comment-50"></a>
<article class="comment comment-by-anonymous odd clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/50#comment-50" class="permalink" rel="bookmark">好文章！good.
</a></h3>
    
    <span class="submitted">By  on 07 九月 2006 at about 10:08.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>好文章！good.</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>

<div class="indented"><a id="comment-311"></a>
<article class="comment comment-by-anonymous even clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/311#comment-311" class="permalink" rel="bookmark">非常不错的文章，希</a></h3>
    
    <span class="submitted">By Jeff on 14 四月 2007 at about 21:38.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>非常不错的文章，希望作者继续努力，创作出更好，更有价值的作品，大力支持</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>

<div class="indented"><a id="comment-417"></a>
<article class="comment comment-by-anonymous odd clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/417#comment-417" class="permalink" rel="bookmark">very good!thanks for you</a></h3>
    
    <span class="submitted">By dragonchencm on 17 七月 2007 at about 21:14.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>very good!thanks for you share!!!</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>
</div></div><a id="comment-67"></a>
<article class="comment comment-by-anonymous even clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/67#comment-67" class="permalink" rel="bookmark">大部分内容都出自</a></h3>
    
    <span class="submitted">By  on 01 十月 2006 at about 15:07.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>大部分内容都出自mysql中文手册，何必再写成文章呢</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>

<div class="indented"><a id="comment-68"></a>
<article class="comment comment-by-node-author odd clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/68#comment-68" class="permalink" rel="bookmark">手册上确实都能找</a></h3>
    
    <span class="submitted">By yejr on 01 十月 2006 at about 23:43.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>手册上确实都能找得到，但是真正去看手册的有多少人呢？本文只是快速总结而已，并不是创新。</p>
<p>欢迎来到MySQL中文网: <a href="http://imysql.cn/">http://imysql.cn</a></p>
<p>给你的祝福，要让你招架不住！</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>

<div class="indented"><a id="comment-1407"></a>
<article class="comment comment-by-anonymous even clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/1407#comment-1407" class="permalink" rel="bookmark">小荣的文章越来越有</a></h3>
    
    <span class="submitted">By 游客 on 01 三月 2010 at about 13:35.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>小荣的文章越来越有深度了</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>
</div></div><a id="comment-165"></a>
<article class="comment comment-by-anonymous odd clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/165#comment-165" class="permalink" rel="bookmark">NDB节点和SQL节点放一</a></h3>
    
    <span class="submitted">By 笑容 on 29 十二月 2006 at about 01:14.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>NDB节点和SQL节点放一个电脑上 怎么样？</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>

<div class="indented"><a id="comment-167"></a>
<article class="comment comment-by-node-author even clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/167#comment-167" class="permalink" rel="bookmark">当然可以,但是这样不</a></h3>
    
    <span class="submitted">By yejr on 29 十二月 2006 at about 14:21.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>当然可以,但是这样不好啊,不利于提高可靠性,这就背离了集群的初衷,不过如果只是为了试验就无所谓了.</p>
<p><span class="#sg">MySQL中文网: <a href="http://imysql.cn/">http://imysql.cn</a><br>
Google MySQL中文用户群：<a href="http://groups.google.com/group/imysql">http://groups.google.com/group/imysql</a></span></p>
<p>给你的祝福，要让你招架不住！</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>
</div><a id="comment-330"></a>
<article class="comment odd clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/330#comment-330" class="permalink" rel="bookmark">to</a></h3>
    
    <span class="submitted">By ghbspecial on 31 五月 2007 at about 18:56.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>to 叶老师：<br>
看了您的文章，有一些凝问，请点解一下，谢谢。<br>
按照这个文档的mysql集群，用户在连接或请求mysql连接的应该是连接那两台sql,db1和db2，那么这样的集群相当于有两个IP地址的分流负载。而很多时候是需要连接到一个IP，之后通过IP这个进行集群比如LVS，而对于这种集也没有什么机制可以访问一个，之后被调度到多个。<br>
oracle RAC高性能集群，对外提供一个IP，之后在内部把请求分流到多个RAC的节点上面，以达到负载的目的，后端存储使用集群文件系统，以达到并发写的要求。</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>

<div class="indented"><a id="comment-331"></a>
<article class="comment comment-by-node-author even clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/331#comment-331" class="permalink" rel="bookmark">1. 只用一个sql节点
2.</a></h3>
    
    <span class="submitted">By yejr on 31 五月 2007 at about 19:34.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>1. 只用一个sql节点<br>
2. 用lvs就可以了啊，不过我没做过 :)</p>
<p><span class="#sg"><a href="http://imysql.cn/?q=node/148">MySQL方案、培训、支持</a></span></p>
<p>给你的祝福，要让你招架不住！</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>

<div class="indented"><a id="comment-332"></a>
<article class="comment odd clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/332#comment-332" class="permalink" rel="bookmark">to</a></h3>
    
    <span class="submitted">By ghbspecial on 01 六月 2007 at about 09:05.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>to yejr<br>
您说：1.只用一个sql节点<br>
这点不是很明白，看文档中，有两个sql节点，您的意思是，所以请求连接到其中一个sql节点就可以了，就能达到负载的作用，另一个sql节点如何发挥的作用。</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>

<div class="indented"><a id="comment-333"></a>
<article class="comment comment-by-node-author even clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/333#comment-333" class="permalink" rel="bookmark">我的意思是只启用一</a></h3>
    
    <span class="submitted">By yejr on 01 六月 2007 at about 11:16.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>我的意思是只启用一个sql节点，另外，只用一个sql节点的话自然无法达到负载均衡作用。</p>
<p><span class="#sg"><a href="http://imysql.cn/?q=node/148">MySQL方案、培训、支持</a></span></p>
<p>给你的祝福，要让你招架不住！</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>
</div><a id="comment-606"></a>
<article class="comment comment-by-anonymous odd clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/606#comment-606" class="permalink" rel="bookmark">我的问题和1F的一样,</a></h3>
    
    <span class="submitted">By 游客 on 21 八月 2007 at about 16:01.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>我的问题和1F的一样,目前正在学习mysql的cluster,现在已经配置好了,但现在还是搞不懂提供哪一个mysql节点给应用程序作接口.如果提供的mysql节点down了,程序该如何自动接管到其他mysql节点呢?<br>
欢迎各位大虾指教qq:644585659</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>

<div class="indented"><a id="comment-607"></a>
<article class="comment comment-by-node-author even clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/607#comment-607" class="permalink" rel="bookmark">采用多个sql节点就可</a></h3>
    
    <span class="submitted">By yejr on 21 八月 2007 at about 21:34.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>采用多个sql节点就可以了</p>
<p><a href="http://imysql.cn/?q=consulting"><strong>MySQL方案、培训、支持</strong></a><br><a href="http://mysqlug.cn/"><strong>MySQL 用户组</strong></a></p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>
</div></div></div><a id="comment-729"></a>
<article class="comment comment-by-anonymous odd clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/729#comment-729" class="permalink" rel="bookmark">有两个基础问题</a></h3>
    
    <span class="submitted">By aaron on 09 十二月 2007 at about 23:54.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>有两个基础问题 还没搞清楚。<br>
1。文中db1管理而实际的表文件是存储在db4 db5上对吗？<br>
2。“NDB” 是一种“内存中”的存储引擎   ，那我如果在 db2上 创建的了一个表  是直接写到 db4 db5的硬盘的表文件里，还是写到内存里？</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>

<div class="indented"><a id="comment-730"></a>
<article class="comment comment-by-node-author even clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/730#comment-730" class="permalink" rel="bookmark">1. 是的
2.</a></h3>
    
    <span class="submitted">By yejr on 10 十二月 2007 at about 07:04.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>1. 是的<br>
2. 取决于你创建的表类型，先好好理解一下NDB表和其他表类型的区别吧</p>
<p><a href="http://imysql.cn/?q=consulting"><strong>MySQL方案、培训、支持</strong></a><br><a href="http://mysqlug.cn/"><strong>MySQL 用户组</strong></a></p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>

<div class="indented"><a id="comment-732"></a>
<article class="comment comment-by-anonymous odd clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/732#comment-732" class="permalink" rel="bookmark">首先谢谢您的认真负</a></h3>
    
    <span class="submitted">By aaron on 10 十二月 2007 at about 11:56.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>首先谢谢您的认真负责以及热心</p>
<p>如果我 用ENGINE=NDB或ENGINE=NDBCLUSTER选项创建<br>
那么 在 db2上 创建的了一个表 是直接写到 db4 db5的硬盘的表文件里，还是写到内存里？</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>

<div class="indented"><a id="comment-733"></a>
<article class="comment comment-by-node-author even clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/733#comment-733" class="permalink" rel="bookmark">建议你仔细读一下MySQL</a></h3>
    
    <span class="submitted">By yejr on 10 十二月 2007 at about 12:43.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>建议你仔细读一下MySQL手册中关于cluster这章吧</p>
<p><a href="http://imysql.cn/?q=consulting"><strong>MySQL方案、培训、支持</strong></a><br><a href="http://mysqlug.cn/"><strong>MySQL 用户组</strong></a></p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>
</div></div></div><a id="comment-765"></a>
<article class="comment comment-by-anonymous odd clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/765#comment-765" class="permalink" rel="bookmark">想请教下叶老师,数据</a></h3>
    
    <span class="submitted">By 游客 on 14 一月 2008 at about 15:01.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>想请教下叶老师,数据节点怎么样配置内存?是否放数据节点的那部机的全部内存都被集群用还是配置哪个文件来限制集群用多少内存?谢谢</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>
<a id="comment-984"></a>
<article class="comment comment-by-anonymous even clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/984#comment-984" class="permalink" rel="bookmark">問題：
SQL节点1(SQL1)		1</a></h3>
    
    <span class="submitted">By 游客 on 20 七月 2008 at about 04:50.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>問題：<br>
SQL节点1(SQL1)		192.168.0.2(db2)<br>
SQL节点2(SQL2)		192.168.0.3(db3)<br>
1. 是否可作成同一IP基於OpenSUSE的HA技術，即以上兩台電腦安裝HA，然後通過HA服務建立好單一IP地址做高可用性.<br>
2. 若問題1.不行，分開IP地址訪問時如果同一時間訪問，即db2改寫及db3立即讀會否出現不同步或鎖定問題, 是否可直接以Transaction理解.</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>

<div class="indented"><a id="comment-985"></a>
<article class="comment comment-by-node-author odd clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/985#comment-985" class="permalink" rel="bookmark">1 是可以的。
2</a></h3>
    
    <span class="submitted">By yejr on 20 七月 2008 at about 08:17.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>
1 是可以的。<br>
2 应该是不行的，连接已中断，事务自然也中断，mysql还不支持分布式事务
</p>
<p>
<a href="http://imysql.cn/consulting"><b>MySQL方案、培训、支持</b></a>
</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>

<div class="indented"><a id="comment-986"></a>
<article class="comment comment-by-anonymous even clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/986#comment-986" class="permalink" rel="bookmark">2.</a></h3>
    
    <span class="submitted">By 游客 on 20 七月 2008 at about 11:33.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>2. 若問題1.不行，分開IP地址訪問時如果同一時間訪問，即db2改寫及db3立即讀會否出現不同步或鎖定問題, 是否可直接以Transaction理解.</p>
<p>2.的問題是：<br>
我不做HA方案於db2及db3，那客戶端程式SQL字串訪問時是要用分別是db2或db3，如果那時候是：<br>
  a) 客戶端1通過db2連接字串，運行Storge內的Data，目的是改資料.<br>
      UPDATE SET TABLE WHERE XXXXX<br>
  b) 客戶端2通過db3連接字串，運行Storge內的Data，目的是查資料.<br>
      SELECT TABLE ALL XXXXXX</p>
<p>如同一張表內的某一行讀或寫同時會否出現什麼問題? (我目前理解所有Data是在Storge內的)</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>

<div class="indented"><a id="comment-987"></a>
<article class="comment comment-by-node-author odd clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/987#comment-987" class="permalink" rel="bookmark">明白你的意思了，ndb</a></h3>
    
    <span class="submitted">By yejr on 20 七月 2008 at about 11:39.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>
明白你的意思了，ndb引擎和innodb类似，都支持transaction，当然不会有问题。sql节点本身不存储任何data，只是一个接口而已。data存储在上面提到的data节点。
</p>
<p>
<a href="http://imysql.cn/consulting"><b>MySQL方案、培训、支持</b></a>
</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>
<a id="comment-990"></a>
<article class="comment even clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/990#comment-990" class="permalink" rel="bookmark">1.</a></h3>
    
    <span class="submitted">By macaujohn2000 on 20 七月 2008 at about 14:49.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>1. 另外想問多個問題，如果Storge內其中某一電腦死了，整體會怎麼樣，是否自動換?<br>
2. 還有，如果把Storge內死機的電腦修復後，要設什麼參數才能搬回去做Cluster呢，步驟是怎麼樣?</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>

<div class="indented"><a id="comment-994"></a>
<article class="comment comment-by-node-author odd clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/994#comment-994" class="permalink" rel="bookmark">具体实现细节看手册</a></h3>
    
    <span class="submitted">By yejr on 20 七月 2008 at about 16:48.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>
具体实现细节看手册描述吧，这东西不是我一言两语能描述清楚的
</p>
<p>
<a href="http://imysql.cn/consulting"><b>MySQL方案、培训、支持</b></a>
</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>
</div></div></div></div><a id="comment-991"></a>
<article class="comment even clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/991#comment-991" class="permalink" rel="bookmark">节点(用途)		IP地址(主</a></h3>
    
    <span class="submitted">By macaujohn2000 on 20 七月 2008 at about 15:50.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>节点(用途)		IP地址(主机名)<br>
管理节点(MGM)	192.168.0.1(db1)<br>
SQL节点1(SQL1)	192.168.0.2(db2)<br>
SQL节点2(SQL2)	192.168.0.3(db3)<br>
数据节点1(NDBD1)	192.168.0.4(db4)<br>
数据节点2(NDBD2)	192.168.0.4(db5)</p>
<p>想問問為何: 数据节点2(NDBD2)	192.168.0.4(db5) 不是 192.168.0.5 ? 為何可重複IP的 ?</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>

<div class="indented"><a id="comment-993"></a>
<article class="comment comment-by-node-author odd clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/993#comment-993" class="permalink" rel="bookmark">修改了，纯属笔误</a></h3>
    
    <span class="submitted">By yejr on 20 七月 2008 at about 16:47.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>
修改了，纯属笔误 :)
</p>
<p>
<a href="http://imysql.cn/consulting"><b>MySQL方案、培训、支持</b></a>
</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>

<div class="indented"><a id="comment-996"></a>
<article class="comment even clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/996#comment-996" class="permalink" rel="bookmark">還有在官網找不到mysql</a></h3>
    
    <span class="submitted">By macaujohn2000 on 20 七月 2008 at about 17:22.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>還有在官網找不到mysql-max的檔案下載，是否已經變更成另外檔名 ??<br>
mysql-cluster-gpl-6.2.15-linux-i686-glibc23.tar.gz</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>

<div class="indented"><a id="comment-997"></a>
<article class="comment comment-by-node-author odd clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/997#comment-997" class="permalink" rel="bookmark">老兄，这是06年的文</a></h3>
    
    <span class="submitted">By yejr on 20 七月 2008 at about 18:12.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>
老兄，这是06年的文章，你不觉得应该看最新的手册吗？
</p>
<p>
<a href="http://dev.mysql.com/downloads/cluster/">http://dev.mysql.com/downloads/cluster/</a>
</p>
<p>
<a href="http://imysql.cn/consulting"><b>MySQL方案、培训、支持</b></a>
</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>
</div><a id="comment-998"></a>
<article class="comment even clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/998#comment-998" class="permalink" rel="bookmark">那是否所有電腦都要</a></h3>
    
    <span class="submitted">By macaujohn2000 on 20 七月 2008 at about 20:30.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>那是否所有電腦都要安MySQL Client原程序?? 不是指Cluster程序 .....<br>
或只是安Cluster就可了嗎 ?</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>
</div></div><a id="comment-2011"></a>
<article class="comment comment-by-anonymous odd clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/2011#comment-2011" class="permalink" rel="bookmark">LZ你好，按你方法做之</a></h3>
    
    <span class="submitted">By 蚂蚁 on 20 七月 2010 at about 17:08.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>LZ你好，按你方法做之后成功了。<br>
ndb_mgm&gt; show<br>
Cluster Configuration<br>
---------------------<br>
[ndbd(NDB)]     2 node(s)<br>
id=2    @192.168.3.237  (mysql-5.1.44 ndb-7.1.3, Nodegroup: 0, Master)<br>
id=3    @192.168.3.238  (mysql-5.1.44 ndb-7.1.3, Nodegroup: 0)</p>
<p>[ndb_mgmd(MGM)] 1 node(s)<br>
id=1    @192.168.3.240  (mysql-5.1.44 ndb-7.1.3)</p>
<p>[mysqld(API)]   1 node(s)<br>
id=4    @192.168.3.239  (mysql-5.1.44 ndb-7.1.3)</p>
<p>但是有个问题，在哪个节点建表、建库，都不能在另一个节点数据同步。。。。求救。。。</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>
<a id="comment-7885"></a>
<article class="comment comment-by-anonymous even clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/7885#comment-7885" class="permalink" rel="bookmark">管理节点可以有多个吗？</a></h3>
    
    <span class="submitted">By 游客 on 19 七月 2013 at about 16:17.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>管理节点可以有多个吗？</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>

<div class="indented"><a id="comment-7907"></a>
<article class="comment comment-by-node-author odd clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/7907#comment-7907" class="permalink" rel="bookmark">目前的新版本是可以的，主管理节点当掉后，可以使用备用节点</a></h3>
    
    <span class="submitted">By yejr on 21 七月 2013 at about 23:47.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>目前的新版本是可以的，主管理节点当掉后，可以使用备用节点</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>
</div><a id="comment-11699"></a>
<article class="comment comment-by-anonymous even clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/11699#comment-11699" class="permalink" rel="bookmark">你好！我想问你一下 ，如果有多个SQL节点，比如SQL1</a></h3>
    
    <span class="submitted">By woshi_bobo on 01 四月 2014 at about 16:38.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>你好！我想问你一下 ，如果有多个SQL节点，比如SQL1：192.168.100.1、SQL2：192.168.2、SQL3：192.168.100.3 那么java程序连接数据库的字符串该怎么些？是把所有的节点都连接上还是mysql cluster能提供一个统一的管理的东西呢？？如果是都写上，那么以后增加删除节点的话 就要经常改动代码了呀。。。困扰我好几天了，希望你能给我解答下！谢谢！！！</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>

<div class="indented"><a id="comment-16419"></a>
<article class="comment comment-by-node-author odd clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/16419#comment-16419" class="permalink" rel="bookmark">在NDB Cluster集群中</a></h3>
    
    <span class="submitted">By yejr on 03 十一月 2014 at about 14:49.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>在NDB Cluster集群中，多个SQL节点的作用是完全一样的，你可以配置为其中任何一个节点的IP，也可以在前端封装一个LVS或者haproxy之类的，对外用VIP（虚拟IP）提供服务。</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>
</div><a id="comment-14239"></a>
<article class="comment comment-by-anonymous even clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/14239#comment-14239" class="permalink" rel="bookmark">想问下  如果 我的数据节点(ndbd)有3台机器</a></h3>
    
    <span class="submitted">By 游客 on 31 七月 2014 at about 11:40.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>想问下  如果 我的数据节点(ndbd)有3台机器（每台200g空间）。 我在sql节点上创建了一个表，并且存入数据，我发现我每个数据节点都存在。证明是3份，如果我在加7台机器到数据节点(ndbd)（每台200g空间），是不是我在创建一个表就是10份呢。也就是说我虽然有10台200G的机器，我最多能存200G的数据在集群里。能不能数据库里的数据分散的存在在这十台机器中。每个机器存一部分数据， 可以吗。</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>

<div class="indented"><a id="comment-16411"></a>
<article class="comment comment-by-node-author odd clearfix">

<header>
  
  
        <h3><a href="http://imysql.cn/comment/16411#comment-16411" class="permalink" rel="bookmark">NoOfReplicas</a></h3>
    
    <span class="submitted">By yejr on 03 十一月 2014 at about 14:37.</span>
</header>

    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>NoOfReplicas 参数决定了数据最终会被冗余复制多少份以防丢失。<br>
一份数据不能完全平均分不到各个节点，在NDB Cluster的应用场景下，最好至少要有2份冗余，一般建议3份，甚至更多。</p>
</div></div></div><ul class="links inline"><li class="comment_forbidden first last"></li>
</ul>          </div>
</article>
</div>
  </section>
      </div>

</article>
  </div>

</div>
  </div>
          </div>
    
            <aside id="sidebar" role="complementary">
        <div class="region region-sidebar-first">
    <div id="block-search-form" class="block block-search">

      
  <div class="content">
    <form action="http://imysql.cn/node/96" method="post" id="search-block-form" accept-charset="UTF-8"><div><div class="container-inline">
      <h2 class="element-invisible">搜索表单</h2>
    <div class="form-item form-type-textfield form-item-search-block-form">
  <label class="element-invisible" for="edit-search-block-form--2">搜索 </label>
 <input title="请输入你想搜索的关键词。" placeholder="Enter search terms" type="search" id="edit-search-block-form--2" name="search_block_form" value="" size="15" maxlength="128" class="form-text">
</div>
<div class="form-actions form-wrapper" id="edit-actions"><input type="submit" id="edit-submit" name="op" value="搜索" class="form-submit"></div><input type="hidden" name="form_build_id" value="form-XcXSk6pM_H3kBdXPfBz4nOXj6pHbT8S35jMeZCo7Bf0">
<input type="hidden" name="form_id" value="search_block_form">
</div>
</div></form>  </div>

</div>
<div id="block-block-2" class="block block-block">

      
  <div class="content">
    <h2>关于我</h2>
<p>叶金荣（yejr）早年曾混迹于linuxforum、linuxsir、chinaunix等社区。</p>
<p>2006年建本站至今，是国内最早的一批MySQL技术博客之一。</p>
<p>从事过LAMP开发，后成为专职MySQL DBA，擅长MySQL优化、数据库架构设计及对比基准压测。</p>
<p>2012年被提名成为<a href="https://apex.oracle.com/pls/otn/f?p=19297:4:::NO:4:P4_ID:5341">ORACLE MySQL ACE</a>，目前仍不遗余力推广MySQL。</p>
<p>2016年初与<a href="http://wubx.net/">吴炳锡</a>共同创办靠谱、优质的在线培训品牌<a href="http://zhishutang.com/">知数堂</a>专注培养优秀互联网从业人才以及企业服务。</p>
<p>2018年和吴炳锡共同发起<a href="http://weixin.sogou.com/weixin?type=1&amp;s_from=input&amp;query=pai3306&amp;ie=utf8&amp;_sug_=n&amp;_sug_type_=">「3306π」社区</a></p>
<p>微信公众号：<strong>老叶茶馆(imysql_wx)</strong></p>
<p>微博：<strong><span style="color: #000000;"><a href="http://weibo.com/yejinrong">@叶金荣</a></span></strong></p>
<p>QQ群：<strong><a href="http://shang.qq.com/wpa/qunwpa?idkey=5b1845573c04c4e883dd1fa14a5da4a4b9d2c57cbc5dddae13eae03b28a4db49" target="_blank"> 579036588</a></strong></p>
<p>邮箱：<a href="mailto:yejr@qq.com?subject=%E5%85%B3%E4%BA%8EMySQL%E6%8A%80%E6%9C%AF%E5%92%A8%E8%AF%A2">yejr@qq.com</a></p>
<p>神器： <a href="http://imysql.com/my-conf-wizard.html"><b>自动生成my.cnf</b></a></p>
<p>搜索引擎中的我：<a title="搜素引擎中的我：谷歌Google" href="https://www.google.com.hk/search?q=MySQL+%E5%8F%B6%E9%87%91%E8%8D%A3&amp;oq=MySQL+%E5%8F%B6%E9%87%91%E8%8D%A3" target="_blank">谷歌Google</a>、<a title="搜素引擎中的我：360搜索" href="http://www.so.com/s?q=MySQL+%E5%8F%B6%E9%87%91%E8%8D%A3" target="_blank">360搜索</a>、<a title="搜素引擎中的我：百度" href="http://www.baidu.com/#wd=MySQL+%E5%8F%B6%E9%87%91%E8%8D%A3" target="_blank">百度</a>、<a title="搜素引擎中的我：搜狗" href="http://www.sogou.com/web?query=MySQL+%E5%8F%B6%E9%87%91%E8%8D%A3" target="_blank">搜狗</a>。</p>
<p>【老叶茶馆】微信公众号二维码<br><img class="size-full wp-image-702" src="./MySQL Cluster(MySQL 集群) 初试 _ iMySQL _ 老叶茶馆_files/LYCG-wx-300x300.jpg" alt="【老叶茶馆】微信公众号二维码" width="150" height="150"></p>
  </div>

</div>
<div id="block-block-7" class="block block-block">

      
  <div class="content">
    <p></p><fieldset class="collapsible"><ul class="menu"><li><a href="http://imysql.cn/taxonomy/term/1" target="_blank">MySQL优化</a></li>
<li><a href="http://imysql.cn/taxonomy/term/5" target="_blank">MySQL基础知识</a></li>
<li><a href="http://imysql.cn/taxonomy/term/15" target="_blank">MySQL高级技术</a></li>
<li><a href="http://imysql.cn/taxonomy/term/20" target="_blank">MySQL FAQ</a></li>
<li><a href="http://imysql.cn/taxonomy/term/21" target="_blank">Innodb</a></li>
<li><a href="http://imysql.cn/taxonomy/term/18" target="_blank">*nix相关</a></li>
<li><a href="http://imysql.cn/taxonomy/term/25" target="_blank">硬件相关</a></li>
<li><a href="http://imysql.cn/taxonomy/term/26" target="_blank">运维相关</a></li>
<li><a href="http://imysql.cn/taxonomy/term/16" target="_blank">个人涂鸦</a></li>
</ul><p></p></fieldset>  </div>

</div>
<section id="block-statistics-popular" class="block block-statistics">

        <h2>热门内容</h2>
    
  <div class="content">
    <div class="item-list"><h3>全部头条：</h3><ul><li class="first"><a href="http://imysql.cn/2007_08_13_myisam_repair_thread_bug">REPAIR TABLE导致死锁</a></li>
<li><a href="http://imysql.cn/page_not_found">页面未找到</a></li>
<li><a href="http://imysql.cn/charset_tips">小谈MySQL字符集</a></li>
<li><a href="http://imysql.cn/mysql_backup_and_recover">MySQL 备份和恢复</a></li>
<li><a href="http://imysql.cn/2010/12/31/prospects-for-the-2011.html">回顾2010，寄语2011</a></li>
<li><a href="http://imysql.cn/node/96" class="active">MySQL Cluster(MySQL 集群) 初试</a></li>
<li><a href="http://imysql.cn/node/42">MySQL Community Award Winners</a></li>
<li><a href="http://imysql.cn/2006_05_17_mysql_replication_1">MySQL 同步（一）</a></li>
<li><a href="http://imysql.cn/node/125">MySQL AB Opens Benelux Office</a></li>
<li class="last"><a href="http://imysql.cn/node/44">沉痛悼念我的数据</a></li>
</ul></div><br>  </div>

</section>
<div id="block-block-4" class="block block-block">

      
  <div class="content">
    <h2>本站推荐</h2>
<p><font color="blue"><b>→</b></font><a title="View MySQL Reference Manual (includes MySQL Cluster NDB 7.2) v5.5 (English) online" href="http://imysql.com/mysql-refman/5.5/index.html">MySQL 5.5在线手册</a><br><font color="blue"><b>→</b></font><a title="View MySQL Reference Manual (includes MySQL Cluster NDB 7.3 (GA), MySQL Cluster NDB 7.4 (Development)) v5.6 (English) online" href="http://imysql.com/mysql-refman/5.6/index.html">MySQL 5.6在线手册</a><br><font color="blue"><b>→</b></font><a title="View MySQL Reference Manual v5.7 (English) online" href="http://imysql.com/mysql-refman/5.7/index.html">MySQL 5.7在线手册</a><br><font color="blue"><b>→</b></font><a title="View MySQL Internals (English) online" href="http://imysql.com/mysql-internal-manual/index.html">MySQL Internals文档</a><br><font color="blue"><b>→</b></font> <a href="http://imysql.cn/2006_03_05_mysql_optimize_1" title="MySQL 优化" target="_blank">MySQL 优化</a> <br><font color="blue"><b>→</b></font> <a href="http://imysql.cn/taxonomy/term/23" title="MySQL 同步,复制" target="_blank">MySQL 同步/复制</a> <br><font color="blue"><b>→</b></font> <a href="http://imysql.cn/taxonomy/term/20" title="MySQL 常见问题,FAQ" target="_blank">MySQL FAQ合集</a> </p>
  </div>

</div>
<section id="block-comment-recent" class="block block-comment">

        <h2>最近评论</h2>
    
  <div class="content">
    <div class="item-list"><ul><li class="first"><a href="http://imysql.cn/comment/16419#comment-16419">在NDB Cluster集群中</a>&nbsp;<span>4 年 6 months 前</span></li>
<li><a href="http://imysql.cn/comment/16418#comment-16418">会占用的，除非该连接被释放掉。</a>&nbsp;<span>4 年 6 months 前</span></li>
<li><a href="http://imysql.cn/comment/16417#comment-16417">参见选项：--replicate-do-table</a>&nbsp;<span>4 年 6 months 前</span></li>
<li><a href="http://imysql.cn/comment/16416#comment-16416">ICP是5.6新出来的东西，从历史经验来看肯定还不够完善</a>&nbsp;<span>4 年 6 months 前</span></li>
<li><a href="http://imysql.cn/comment/16415#comment-16415">1、需要重启；
2、单位可以写成 G 的；</a>&nbsp;<span>4 年 6 months 前</span></li>
<li><a href="http://imysql.cn/comment/16414#comment-16414">最新的5.6版本下，已经可以不用这么做了。修改完配置文件后</a>&nbsp;<span>4 年 6 months 前</span></li>
<li><a href="http://imysql.cn/comment/16413#comment-16413">官方5.6版本的并行复制是 database 级的并行</a>&nbsp;<span>4 年 6 months 前</span></li>
<li><a href="http://imysql.cn/comment/16412#comment-16412">可以关注下我以往的一个分享：http://wenku</a>&nbsp;<span>4 年 6 months 前</span></li>
<li><a href="http://imysql.cn/comment/16411#comment-16411">NoOfReplicas</a>&nbsp;<span>4 年 6 months 前</span></li>
<li class="last"><a href="http://imysql.cn/comment/16410#comment-16410">是的，今天我也要传输572G文件，跨IDC但有落纤(不限速</a>&nbsp;<span>4 年 6 months 前</span></li>
</ul></div>  </div>

</section>
  </div>
      </aside>
        </div>


  <footer id="footer-wrap" class="clearfix" role="contentinfo">
  <div class="region region-footer">
    <div id="block-block-10" class="block block-block">

      
  <div class="content">
    <p><a href="http://imysql.com/">iMySQL | 老叶茶馆，「知数堂」培训联合创始人，专注MySQL技术</a></p>
  </div>

</div>
  </div>
          <div id="footer">
          <p>This site is powered by <a href="http://drupal.org/">Drupal</a>. Theme: <a href="http://drupal.org/project/simpleclean">Simple Clean</a> by <a href="http://drupal.org/user/765764">acke</a> @ <a href="http://www.happiness.se/">happiness</a>.</p>
      </div>
      </footer>

</div>
<script>jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"simpleclean","theme_token":"dMIZ7xHTjvBbM8eV0cco3fyhKpQ-Bvpanm7LyBIPdgc"}});</script>


</body></html>